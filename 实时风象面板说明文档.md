# 实时风象面板说明文档

## 一、核心功能


- **核心气象要素展示**：实时显示风速、风切变等级和稳定度指数三项关键气象指标
- **等级可视化**：根据风切变等级自动切换显示颜色和状态标签（低/中/高）
- **状态描述**：为各项指标提供直观的文字描述，帮助用户快速理解气象状况
- **动态更新**：支持根据所选监测点实时更新数据，确保信息的时效性

## 二、API 接口文档

### 1. 获取监测点实时天气数据

**接口信息**

- **接口名称**：/weather/now/{pointId}
- **功能描述**：获取指定监测点的实时气象数据，包括风速、风切变等级和稳定度指数
- **请求方式**：GET

**请求参数**

| 参数名   | 类型   | 是否必填 | 说明                                |
|----------|--------|----------|-------------------------------------|
| pointId  | String | 是       | 监测点 ID，指定数据所属的监测位置   |

**返回数据结构**

```javascript
{
  // 风速信息
  "windSpeed": {
    "value": 7.8,     // 风速数值
    "unit": "m/s"    // 风速单位：米每秒
  },
  // 风向信息
  "windDirection": {
    "value": 30,      // 风向角度：0-360度，0度表示北风
    "unit": "°"      // 风向单位：度
  },
  // 风切变等级：low（低）、medium（中）、high（高）
  "windShearLevel": "medium",
  // 大气稳定度指数：S（极不稳定）、A（不稳定）、B（较稳定）、C（稳定）
  "stabilityIndex": "C",
  // 温度信息
  "temperature": {
    "value": 12,      // 温度数值
    "unit": "℃"      // 温度单位：摄氏度
  },
  // 降水量信息
  "precipitation": {
    "value": 12,      // 降水量数值
    "unit": "mm"     // 降水量单位：毫米
  },
  // 降雪量信息
  "snowfall": {
    "value": 0,       // 降雪量数值
    "unit": "cm"     // 降雪量单位：厘米
  },
  // 能见度信息
  "visibility": {
    "value": 12,      // 能见度数值
    "unit": "km"     // 能见度单位：公里
  },
  // 能见度趋势：improving（好转）、steady（稳定）、worsening（恶化）
  "visibilityTrend": "steady",
  // 云底高度信息
  "cloudBaseHeight": {
    "value": 300,     // 云底高度数值
    "unit": "m"      // 云底高度单位：米
  },
  // 云量覆盖信息
  "cloudCover": {
    "value": 70,      // 云量覆盖百分比
    "unit": "%"      // 单位：百分比
  },
  // 相对湿度信息
  "relativeHumidity": {
    "value": 65,      // 相对湿度数值
    "unit": "%"      // 相对湿度单位：百分比
  },
  // 露点温度信息
  "dewPointTemperature": {
    "value": 8,       // 露点温度数值
    "unit": "℃"      // 露点温度单位：摄氏度
  },
  // 大气压力信息
  "atmosphericPressure": {
    "value": 1013,    // 大气压力数值
    "unit": "hPa"    // 大气压力单位：百帕
  },
  // 阵风风速信息
  "gustSpeed": {
    "value": 12.5,    // 阵风风速数值
    "unit": "m/s"    // 阵风风速单位：米每秒
  },
  // 紫外线指数信息
  "uvIndex": {
    "value": 5,       // 紫外线指数数值
    "unit": ""  // 紫外线指数为无量纲量
  },
  // 天气现象描述：clear（晴朗）、light rain（小雨）、heavy rain（大雨）等
  "weatherPhenomenon": "light rain",
  // 雷暴预警等级：low（低风险）、medium（中风险）、high（高风险）
  "thunderstormAlert": "low"
}
```

## 三、算法端对接说明

### 1. 数据生成要求

**实时气象数据（/weather/now）**

- **风速（windSpeed）**：
  - 数值范围：0-15 m/s
  - 更新频率：建议1分钟一次
  - 精度要求：保留1位小数

**风切变等级（windShearLevel）**
- **等级划分**：
  - low：风切变微弱，对起降无影响（0-5 m/s/100m）
  - medium：存在中等风切变，需谨慎操作（5-10 m/s/100m）
  - high：强风切变风险！建议暂停起降（>10 m/s/100m）
- **更新频率**：建议5分钟一次

**稳定度指数（stabilityIndex）**
- **指数划分**：
  - S：大气极不稳定，强对流风险高
  - A：大气不稳定，存在对流可能
  - B：大气较稳定，气流轻微波动
  - C：大气稳定，气流平稳
- **更新频率**：建议10分钟一次


### 3. 数据质量控制
- **数据有效性**：当数据超过30分钟未更新时，系统会自动标记为数据过期
- 
## 四、界面交互说明

### 1. 面板布局
- **三列布局**：实时风速、风切变等级、稳定度指数三个面板并排展示
- **颜色编码**：风切变等级面板根据等级自动切换颜色（低-绿色、中-黄色、高-红色）
- **响应式设计**：支持不同屏幕尺寸的自适应显示

### 2. 数据更新机制
- **自动更新**：默认每60秒自动刷新一次数据
- **手动刷新**：支持用户手动触发数据刷新
- **监测点切换**：当用户切换监测点时，面板数据会立即更新

### 3. 状态提示
- **正常状态**：各项指标正常显示
- **数据过期**：当数据超过30分钟未更新时，显示数据过期提示
- **异常状态**：当某个指标超出安全范围时，相应面板会显示警告提示
